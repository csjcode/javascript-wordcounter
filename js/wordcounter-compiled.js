function getSelectedText(){var a="";"undefined"!==window.getSelection?a=window.getSelection().toString():"undefined"!==document.selection&&"Text"===document.selection.type&&(a=document.selection.createRange().text);return a}
function doSomethingWithSelectedText(a){var c=getSelectedText();if(c){var b=Array(c.length+1).join("_"),b=b.slice(0,-1),e=a.replace(/sentence/,""),d=document.getElementById(a).innerText,b=d.replace(c,b);document.getElementById(a).innerText=b+" ";document.getElementById(a);a=d.indexOf(c);objAnswerKey={};objAnswerKey.sentenceId=e;objAnswerKey.wordIndex=a;objAnswerKey.selectedText=c;arrAnswerKey.push(objAnswerKey);d=JSON.stringify(arrAnswerKey);arrAnswerKeyDisplay.push(e+":"+a+" - "+c+"<br />");answerKey.innerHTML=
arrAnswerKeyDisplay.join("");answerKeyJSON.innerHTML="<h3>JSON:</h3>"+d}}var arrAnswerKey=[],objAnswerKey={},arrAnswerKeyDisplay=[],input=document.querySelectorAll("textarea")[0];
input.addEventListener("keyup",function(){var a="";characterCount.innerHTML=input.value.length;var c=input.value.match(/\b[-?(\w+)?]+\b/gi);wordCount.innerHTML=c?c.length:0;if(c){var b=input.value.split(/[.|!|?]+/g);sentenceCount.innerHTML=b.length;var a='<h4 align="center">Line-by-Line Sentence Output</h4>',e=[];for(i=0;i<b.length;i++){var d=i+1,f=b[i],f=f.replace(/\[[0-9]+\]/,"");e.push('<div class="individualSentence" id="sentence'+i+'"><b>['+d+"]</b> "+f+". </div>")}b=e.join("");sentencesOutput.innerHTML=
'<div id="sentenceLines">'+(a+b)+"</div>";a=document.getElementsByClassName("individualSentence").length;for(b=0;b<=a;b++)document.getElementById("sentence"+b).addEventListener("mouseup",function(){doSomethingWithSelectedText(this.id)});document.getElementById("textarea").disabled=!0}else sentenceCount.innerHTML=0;c?(c=input.value.replace(/\n$/gm,"").split(/\n/),paragraphCount.innerHTML=c.length):paragraphCount.innerHTML=0});
